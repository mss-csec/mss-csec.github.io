// Page styles

.page-title {
  position: relative;
  font-size: 52px;
  line-height: 52px;
  letter-spacing: -1px;
  margin: 0;
}

.breadcrumbs {
  color: $fg-secondary;
  margin-top: $ex;
  margin-bottom: 1.5 * $ex;

  .icon-home:hover {
    text-decoration: none;
  }
}

article {
  margin-top: $ex2;
  margin-bottom: -$ex05;
}

article header {
  margin-bottom: $ex05;

  h3 {
    margin-bottom: $ex05 / 2;

    a {
      @include transition;

      color: $fg-primary;
      @if ($dark) { border-bottom: 3px solid transparentize($fg-primary, .7); }
    }

    a:hover {
      color: $brand-colour;
      text-decoration: none;
      @if ($dark) { border-color: transparentize($brand-colour, .5); }
    }
  }

  h6 {
    color: $fg-secondary;
    font-size: 0.75 * $ex;
    margin-bottom: 0;
  }
}

code table,
code td,
code td pre {
  @include reset-all;
}

// Highlight callouts
.conum {
  @include no-user-select;

  background-color: $fg-primary;
  color: $bg-primary;
  border-radius: $df-radius;
}

.colist.arabic {
  counter-reset: callout;

  ol {
    list-style: none;
  }

  li {
    position: relative;
    margin-left: .5em;
  }

  li::before {
    position: absolute;
    left: -2em;
    counter-increment: callout;
    content: '(' counter(callout) ')';
    background-color: $fg-primary;
    color: $bg-primary;
    font: bold .9em monospace;
    margin-top: .2em;
    border-radius: $df-radius;
  }
}

// Hide line numbers on small devices
.rouge-table .gutter {
  display: none;
}

// Footnote tips
.footnote-tip {
  @include no-user-select;

  position: absolute;
  display: none;
  max-width: 80%;
  line-height: 1.15;
  // No switch for dark theme as tooltip isn't so visible there
  // lighten kills two birds with one stone
  background-color: lighten($bg-secondary, 1%);
  padding: $ex05 / 2;
  border-radius: $df-radius;
  box-shadow: 0 0 4px rgba(0, 0, 0, .4);
}

.tags {
  font-size: .9em;
  color: $fg-secondary;
}

.tag {
  background-color: $bg-secondary;
  padding: .2em;
}

.hidden-highlight {
  color: $bg-primary;
}

@media only screen and (min-width: $bp-tablet) {
  // Show line numbers at adequate screen width
  .rouge-table .gutter {
    display: table-cell;
  }

  // Override Asciidoctor default CSS and add line numbers
  .listingblock .content pre.highlight {
    background: none;
    padding: 0;
  }

  .listingblock.linenos .content pre.highlight {
    counter-reset: lines;

    .line {
      position: relative;
      margin-left: 32px;
    }

    .line::before {
      position: absolute;
      left: -48px;
      text-align: right;
      width: 32px;
      counter-increment: lines;
      content: counter(lines);
    }
  }

  .footnote-tip {
    max-width: 320px;
  }
}
