(function(){var t,e,r,n,l,i,o,u,c={}.hasOwnProperty;o="search_idx",r=null,u={},i=function(t){return encodeURIComponent(t).replace(/%20/g,"+")},e=function(t){var e,r;return r=window.location.search.slice(1),e=r.indexOf(t+"="),t=r.slice(e+t.length+1,r.indexOf("&",e)+1||r.length),decodeURIComponent(t.replace(/\+/g,"%20"))},l=function(t){var e,r,n,l,i,o;if(o=$("#search-results"),t.length>0){for(e=[],r=0,l=t.length;r<l;r++)i=t[r],n=u[i.ref],e.push("<article> <header> <h3><a href='"+n.url+"'>"+n.title+"</a></h3> </header> <p>"+UTILS.fuzzyTruncate(n.content,300)+"</p> </article>");return o.html(e.join(""))}return o.html("<h3>No search results found.</h3>")},n=function(t){var e,n;if(e="2018-01-02 14:56:31 +0000",null!==localStorage.getItem(o)){try{n=JSON.parse(localStorage.getItem(o))}catch(t){}if(e===n.commit)return u=n.store,r=lunr.Index.load(n.idx)}return r=lunr(function(){var e,r,n,l,i,o,a,s,h,d;this.ref("id"),this.field("title"),this.field("subclub"),this.field("content"),this.field("type"),n=t.subclubs;for(r in n)c.call(n,r)&&(h=(l=t.subclubs[r]).title,s=l.subclub,e=l.content,d=l.url,u[r]={type:"subclub",title:h,content:e,url:d},this.add({id:r,type:"subclub",title:h,subclub:s,content:e}));i=t.posts,a=[];for(r in i)c.call(i,r)&&(h=(o=t.posts[r]).title,e=o.content,d=o.url,u[r]={type:"post",title:h,content:e,url:d},a.push(this.add({id:r,type:"post",title:h,content:e})));return a}),localStorage.setItem(o,JSON.stringify({commit:e,store:u,idx:r})),r},t=function(t){var e;return e=r.search(t),$("#search").val(t),$("#search-query").text(t),$("title").text("Search results for "+t+" | MSS CSEC â€¢ Markville's Computer Science Education Club"),l(e)},window.addEventListener("load",function(){var r;return r=e("q"),$("#search-form").on("submit",function(e){var r;return r=$("#search").val(),e.preventDefault(),history.pushState({newQuery:r},"","?q="+i(r)),t(r)}),window.addEventListener("popstate",function(e){return t(e.originalEvent.state.query)}),history.replaceState({query:r},"","?q="+i(r)),n(searchStore),t(r)})}).call(this);