(function(){var e,t,o,n,a,d,r,i,l;o="https://docs.google.com/forms/d/e/1FAIpQLSc4Jd-UXs7ZK6XK7SF48zwxlyF84g1a3ER4w_WhONGqxkaeSQ/viewform?entry.1117270848=",t="=== BUG ===\n\nSummary:\n<summarize bug here>\n\nSteps to reproduce:\n<summarize what you did up to and including when the bug reared its ugly head>\n\nAdditional notes:\n<any additional stuff you want to add>",e="&entry.2071656823="+encodeURIComponent(t),n=document.body,d=0,l=null,i=[],a=function(t,a,d,r,i){var l;return null==i&&(i=[{url:o+encodeURIComponent(location.href)+e,text:"I'd like to fill out a bug report!"}]),i=i.map(function(e){return"<p><a class='button' href='"+e.url+"' target='_blank'>"+e.text+"</a></p>"}),l='<div id="feedback-modal">\n<div id="feedback-modal-bg" onclick="event.preventDefault();document.body.removeChild(document.getElementById(\'feedback-modal\'))"></div>\n<div id="feedback-modal-wrapper">\n  <div id="feedback-modal-content">\n    <h2>'+t+"</h2>\n    <p>"+a+'</p>\n    <p class="login-note">(Please note: you must be signed into a YRDSB Gapps account in order to fill out the form.)</p>\n    <div class="buttons">\n      <p><a class="button button-primary" href="'+o+encodeURIComponent(location.href)+'" target="_blank">'+d+"</a></p>\n      "+i.join("\n")+'\n      <p><a href="#" onclick="event.preventDefault();document.body.removeChild(document.getElementById(\'feedback-modal\'))">'+r+"</a></p>\n    </div>\n  </div>\n</div>\n</div>",n.insertAdjacentHTML("beforeend",l)},window.FEEDBACKDisplayModal=function(){return a("Thanks for participating!","We're so glad you decided to tell us what you think of our new website.","I have something to say!","Not today, just came here by accident.")},r=function(e,t){return null==t&&(t=[]),a("Looks like you're frustrated.","We're sorry we ticked you off. Would you like to tell us what we did wrong?","Yes, please!",null!=e?e:"No, I'm fine.",t)},window.addEventListener("keydown",function(e){return"INPUT"===e.target.tagName||"TEXTAREA"===e.target.tagName||e.target.hasAttribute("contenteditable")||e.altKey||e.ctrlKey||e.metaKey||e.shiftKey?null:(-1===i.indexOf(e.keyCode)&&(i.push(e.keyCode),d+=1,clearTimeout(l),l=setTimeout(function(){return d=0},100)),d>3&&0===document.querySelectorAll("#feedback-modal").length?(r("I'm fine, my cat just stepped on my keyboard."),d=0):void 0)}),window.addEventListener("keyup",function(e){return"INPUT"===e.target.tagName||"TEXTAREA"===e.target.tagName||e.target.hasAttribute("contenteditable")||e.altKey||e.ctrlKey||e.metaKey||e.shiftKey?null:(i=[],d=d>0?d-1:0)}),document.querySelector("head").insertAdjacentHTML("beforeend","<style> #open-feedback-modal { position: fixed; bottom: 16px; right: 12px; box-sizing: border-box; width: 128px; height: 32px; background-color: #f52f2f; color: white; line-height: 34px; font-size: 16px; font-weight: 700; text-align: center; border-radius: 32px; box-shadow: 0 0 10px rgba(0, 0, 0, .5), 0 2px 5px rgba(0, 0, 0, .4); transition: .3s ease; } #open-feedback-modal:hover { background-color: #f75858; text-decoration: none; box-shadow: 0 0 15px rgba(0, 0, 0, .5), 0 5px 7px rgba(0, 0, 0, .4); } #feedback-modal-bg { position: fixed; top: 0; bottom: 0; left: 0; right: 0; background: rgba(0, 0, 0, .7); z-index: 10; } #feedback-modal-wrapper { position: fixed; top: 50%; left: 50%; width: 60%; max-width: 800px; max-height: 75%; background-color: white; padding: 40px; border-radius: 15px; margin: auto; z-index: 10; overflow-y: auto; transform: translateX(-50%) translateY(-50%); } .theme-dark #feedback-modal-wrapper { background-color: #1a1f2a; } #feedback-modal .login-note { font-size: .95em; } @media (max-width: 768px) { #feedback-modal .login-note { display: none; } } #feedback-modal .button { width: 100%; } #feedback-modal .buttons p { font-size: 1.1em; text-align: center; margin-bottom: 0; } #feedback-modal .button:not(.button-primary) { color: #f52f2f; border-color: rgba(245, 47, 47, .6); } #feedback-modal .button:not(.button-primary):hover { border-color: #f52f2f; } </style>"),n.insertAdjacentHTML("beforeend","<a id='open-feedback-modal' href='#' title='Give feedback' onclick='event.preventDefault();FEEDBACKDisplayModal()'>Give feedback</a>")}).call(this);