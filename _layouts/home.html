---
layout: default
---

<div class="hero">
  <h1 class="title"><em>MSS CSEC is Slowly Engineering a Club website</em></h1>
</div>

<!-- Display schedule -->

<div class="schedule">
  <div class="container">
    {% comment %}
    Change the below variable to change the number of lessons displayed in one row
    {% endcomment %}
    {% assign row_size = 3 %}

    {% assign row_matrix = "null,twelve,six,four,three,null,two" | split: "," %}
    {% assign subclubs = site.subclubs | group_by: "category" | where_exp: "item", "item.name != 'subclub-landing'"%}
    {% assign number_rows = site.displayed_subclubs.size | divided_by: row_size %}
    {% for row in (0..number_rows) %}
    <div class="row">
      {% assign row_offset = row | times: row_size %}
      {% for subclub in site.displayed_subclubs limit:row_size offset:row_offset %}
        {% assign subclub_obj = subclubs | where: "name", subclub | first %}
        {% assign subclub_index = subclub_obj.items | where: "layout", "landing" | first %}
        {% assign subclub_schedule = subclub_index.schedule %}
        {% assign subclub_title = subclub_index.title %}
      <div class="{{ row_matrix[row_size] }} columns" id="schedule-{{ subclub | xml_escape }}">
        <h2 class="subclub-title"><a href="{{ subclub | uri_escape }}" class="subclub-link">{{ subclub_title | xml_escape }}</a></h2>
        <div class="row">
          <div class="one-half column">
            <h4 class="lesson-state">Last lesson</h4>
            <h3 class="lesson-name lesson-last"></h3>
          </div>
          <div class="one-half column">
            <h4 class="lesson-state">Next meeting</h4>
            <h3 class="lesson-name lesson-next"></h3>
          </div>
        </div>
        <script>window.addEventListener("DOMContentLoaded", function (){
        APP.renderSubclubSchedule($('[id="schedule-{{ subclub | xml_escape }}"]'),{
          {% if site.production == true %}
            {% assign lessons = site.lessons | group_by: "category" %}
            {% assign subclub_obj = lessons | where: "name", subclub | first %}
          {% endif %}
          {% for entry in subclub_schedule %}
            {% assign lesson_title = subclub_title | xml_escape %}
            {% for item in subclub_obj.items %}
              {% assign split_path = item.path | split: '/' %}
              {% if split_path contains entry[0] %}
                {% assign lesson_title = item.title | xml_escape %}
                {% break %}
              {% endif %}
            {% endfor %}
          "{{ entry[0] | xml_escape }}": {
            date: "{{ entry[1] | xml_escape }}",
            url: "{{ site.baseurl }}/lessons/{{ subclub | uri_escape }}/{{ entry[0] | uri_escape }}/",
            title: "{{ lesson_title }}"
          },
          {% endfor %}
        });
        });</script>
      </div>
      {% endfor %}
      {% if row >= number_rows and subclubs.size > site.displayed_subclubs.size %}
      <div class="{{ row_matrix[row_size] }} columns more-subclubs">
        <h2 class="subclub-title"><a href="{{ '/subclubs' | relative_url }}" class="subclub-link">More subclubs</a></h2>
        <div class="more-subclubs-listing">
          {% assign subclub_counter = 0 %}
          {% for subclub_obj in subclubs %}
            {% if site.displayed_subclubs contains subclub_obj.name %}
              {% continue %}
            {% endif %}
            {% if subclub_counter >= 4 %}
              {% break %}
            {% endif %}
            {% assign subclub_index = subclub_obj.items | where: "layout", "landing" | first %}
            {% assign subclub_title = subclub_index.title | xml_escape %}
            <h4><a class="lesson-link" href="{{ subclub_index.url | uri_escape }}.html">{{ subclub_title }}</a></h4>
            {% assign subclub_counter = subclub_counter | plus: 1 %}
          {% endfor %}
        </div>
      </div>
      {% endif %}
    </div>
    {% endfor %}
  </div>
</div>

<div class="container">
  <p>Hello, person! We see you discovered our top-secret website-in-construction.</p>

  <p>Unfortunately, we have no content to offer but the fact that we'll probably be back in September with a swanking new website to suit all of your MSS CSEC needs. Until then, have a great summer!</p>
</div>

<div class="container">
  <pre><code>It is currently <span id="time">time to enable JavaScript, you dimwit</span>. <span id="message"></span></code></pre>
</div>

<script>
document.getElementById('time').textContent = (new Date()).toLocaleString();

var h = (new Date()).getHours(), msg = "";

if (23 <= h || h <= 1) msg = "Go to sleep, you moron."
if (2 <= h && h <= 7) msg = "I'm telling your parents you're still awake."
if (8 <= h && h <= 10) msg = "Rise and shine, walnut-head."
if (11 <= h && h <= 22) msg = "I hope you enjoy trying to be productive and utterly failing at it."

document.getElementById('message').textContent = msg
</script>
