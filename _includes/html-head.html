<head>
  <meta charset="utf-8">

  {% comment %}{% raw %} Source for below; regex based from https://developer.mozilla.org/en-US/docs/Web/API/Document/cookie#Example_2_Get_a_sample_cookie_named_test2
  <script>window.d = document;
    window.s = d.documentElement.style;
    switch (window.t = d.cookie.replace(/(?:(?:^|.*;\s*)theme\s*=\s*([^;]*).*$)|^.*$/, "$1") || 'light') {
      case 'light': s.backgroundColor = '#fff'; break;
      case 'dark': s.backgroundColor = '#1a1f2a'; break;
    }
    delete window.s;
  </script>
  {% endraw %}{% endcomment %}<script>window.d=document,window.s=d.documentElement.style;switch(window.t=d.cookie.replace(/(?:(?:^|.*;\s*)theme\s*=\s*([^;]*).*$)|^.*$/,"$1")||'light'){case 'light':s.backgroundColor='#fff';break;case 'dark':s.backgroundColor='#1a1f2a';break}delete window.s</script>

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="theme-color" content="#f52f2f">

  <link rel="dns-prefetch" href="https://brick.a.ssl.fastly.net">
  <link rel="dns-prefetch" href="https://cdnjs.cloudflare.com">
  <link rel="dns-prefetch" href="https://googletagmanager.com">

  <title>{% if page.title %}{{ page.title }} | {% endif %}{{ site.title }} • {{ site.description }}</title>

  {% seo title=false %}

  {% assign icon_loc = '/assets/images/favicons/icon' | relative_url %}
  <link rel="mask-icon" href="{{ icon_loc }}-pinned.svg?v={{ site.build_version }}" color="#f52f2f">
  <link id="favicon" rel="shortcut icon" href="{{ icon_loc }}.ico?v={{ site.build_version }}" type="image/x-icon">

  {% if site.production %}
  <!-- BEGIN GA -->
  <script>
  window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
  ga('create', '{{ site.ga_id }}', 'auto');
  ga('send', 'pageview');
  </script>
  <script async src='https://www.google-analytics.com/analytics.js'></script>

  <!-- END GA -->
  {% endif %}

  <!-- BEGIN CSS -->
  {% assign layout = page.layout %}
  {% assign ext = page.path | split: '.' | last %}

  <link href="{{ '/assets/lib/skeleton.css' | relative_url }}" rel="stylesheet">
  {% if layout == 'lesson' or layout == 'landing' or layout == 'post' or layout == 'resource' %}<link href="{{ '/assets/lib/lesson-default.css' | relative_url }}" rel="stylesheet">{% endif %}
  <link href="{{ '/assets/css/main.css' | relative_url }}?v={{ site.build_version }}" rel="stylesheet">
  {% if layout == 'home' or layout == 'subclub-landing' %}<link href="{{ '/assets/css/home.css' | relative_url }}?v={{ site.build_version }}" rel="stylesheet">{% endif %}
  {% if layout == 'lesson' or layout == 'landing' or layout == 'post' or layout == 'resource' %}<link href="{{ '/assets/css/subclubs.css' | relative_url }}?v={{ site.build_version }}" rel="stylesheet">{% endif %}

  <link rel="preload" href="{{ '/assets/lib/lato/import.css' | relative_url }}" as="style" onload="this.onload=null;this.rel='stylesheet'">
  <link rel="preload" href="{{ '/assets/lib/balloon.css' | relative_url }}" as="style" onload="this.onload=null;this.rel='stylesheet'">
  <link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.8.3/katex.min.css" as="style" integrity="sha384-B41nY7vEWuDrE9Mr+J2nBL0Liu+nl/rBXTdpQal730oTHdlrlXHzYMOhDU60cwde" crossorigin="anonymous" onload="this.onload=null;this.rel='stylesheet'">

  <noscript>
  <link href="{{ '/assets/lib/lato/import.css' | relative_url }}" rel="stylesheet">
  <link href="{{ '/assets/lib/balloon.css' | relative_url }}" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.8.3/katex.min.css" integrity="sha384-B41nY7vEWuDrE9Mr+J2nBL0Liu+nl/rBXTdpQal730oTHdlrlXHzYMOhDU60cwde" crossorigin="anonymous" rel="stylesheet">

  <link href="{{ '/assets/lib/skeleton-light.css' | relative_url }}?v={{ site.build_version }}" rel="stylesheet">
  <link href="{{ '/assets/lib/balloon-light.css' | relative_url }}?v={{ site.build_version }}" rel="stylesheet">
  {% if layout == 'lesson' or layout == 'landing' or layout == 'post' or layout == 'resource' %}<link href="{{ '/assets/lib/lesson-default-light.css' | relative_url }}?v={{ site.build_version }}" rel="stylesheet">{% endif %}
  <link href="{{ '/assets/css/main-light.css' | relative_url }}?v={{ site.build_version }}" rel="stylesheet">
  {% if layout == 'home' or layout == 'subclub-landing' %}<link href="{{ '/assets/css/home-light.css' | relative_url }}?v={{ site.build_version }}" rel="stylesheet">{% endif %}
  {% if layout == 'lesson' or layout == 'landing' or layout == 'post' or layout == 'resource' %}<link href="{{ '/assets/css/subclubs-light.css' | relative_url }}?v={{ site.build_version }}" rel="stylesheet">{% endif %}
  <link href="{{ '/assets/lib/pygments-manni.css' | relative_url }}" rel="stylesheet">
  </noscript>

  {% comment %}{% raw %} Source for below
  <script>
    window.STYLESHEETS = {
      light: [
        "{{ '/assets/lib/skeleton-light.css' | relative_url }}?v={{ site.build_version }}",
        "{{ '/assets/lib/balloon-light.css' | relative_url }}?v={{ site.build_version }}",
        {% if layout == 'lesson' or layout == 'landing' or layout == 'post' or layout == 'resource' %}"{{ '/assets/lib/lesson-default-light.css' | relative_url }}?v={{ site.build_version }}",{% endif %}
        "{{ '/assets/css/main-light.css' | relative_url }}?v={{ site.build_version }}",
        {% if layout == 'home' or layout == 'subclub-landing' %}"{{ '/assets/css/home-light.css' | relative_url }}?v={{ site.build_version }}",{% endif %}
        {% if layout == 'lesson' or layout == 'landing' or layout == 'post' or layout == 'resource' %}"{{ '/assets/css/subclubs-light.css' | relative_url }}?v={{ site.build_version }}",{% endif %}
        "{{ '/assets/lib/pygments-manni.css' | relative_url }}"
      ],
      dark: [
        "{{ '/assets/lib/skeleton-dark.css' | relative_url }}?v={{ site.build_version }}",
        "{{ '/assets/lib/balloon-dark.css' | relative_url }}?v={{ site.build_version }}",
        {% if layout == 'lesson' or layout == 'landing' or layout == 'post' or layout == 'resource' %}"{{ '/assets/lib/lesson-default-dark.css' | relative_url }}?v={{ site.build_version }}",{% endif %}
        "{{ '/assets/css/main-dark.css' | relative_url }}?v={{ site.build_version }}",
        {% if layout == 'home' or layout == 'subclub-landing' %}"{{ '/assets/css/home-dark.css' | relative_url }}?v={{ site.build_version }}",{% endif %}
        {% if layout == 'lesson' or layout == 'landing' or layout == 'post' or layout == 'resource' %}"{{ '/assets/css/subclubs-dark.css' | relative_url }}?v={{ site.build_version }}",{% endif %}
        "{{ '/assets/lib/pygments-native.css' | relative_url }}"
      ]
    };

    d.scripts[d.scripts.length - 1].insertAdjacentHTML('afterend', '<link rel="preload" href="' + STYLESHEETS[t].join('" class="toggled-theme" as="style" onload="this.onload=null;this.rel=\'stylesheet\'"><link rel="preload" href="') + '" class="toggled-theme" as="style" onload="this.onload=null;this.rel=\'stylesheet\'">');

    delete window.t; delete window.d;
  </script>
  {% endraw %}{% endcomment %}<script>window.STYLESHEETS={light:["{{ '/assets/lib/skeleton-light.css' | relative_url }}?v={{ site.build_version }}","{{ '/assets/lib/balloon-light.css' | relative_url }}?v={{ site.build_version }}",{% if layout == 'lesson' or layout == 'landing' or layout == 'post' or layout == 'resource' %}"{{ '/assets/lib/lesson-default-light.css' | relative_url }}?v={{ site.build_version }}",{% endif %}"{{ '/assets/css/main-light.css' | relative_url }}?v={{ site.build_version }}",{% if layout == 'home' or layout == 'subclub-landing' %}"{{ '/assets/css/home-light.css' | relative_url }}?v={{ site.build_version }}",{% endif %}{% if layout == 'lesson' or layout == 'landing' or layout == 'post' or layout == 'resource' %}"{{ '/assets/css/subclubs-light.css' | relative_url }}?v={{ site.build_version }}",{% endif %}"{{ '/assets/lib/pygments-manni.css' | relative_url }}"],dark:["{{ '/assets/lib/skeleton-dark.css' | relative_url }}?v={{ site.build_version }}","{{ '/assets/lib/balloon-dark.css' | relative_url }}?v={{ site.build_version }}",{% if layout == 'lesson' or layout == 'landing' or layout == 'post' or layout == 'resource' %}"{{ '/assets/lib/lesson-default-dark.css' | relative_url }}?v={{ site.build_version }}",{% endif %}"{{ '/assets/css/main-dark.css' | relative_url }}?v={{ site.build_version }}",{% if layout == 'home' or layout == 'subclub-landing' %}"{{ '/assets/css/home-dark.css' | relative_url }}?v={{ site.build_version }}",{% endif %}{% if layout == 'lesson' or layout == 'landing' or layout == 'post' or layout == 'resource' %}"{{ '/assets/css/subclubs-dark.css' | relative_url }}?v={{ site.build_version }}",{% endif %}"{{ '/assets/lib/pygments-native.css' | relative_url }}"]};d.scripts[d.scripts.length-1].insertAdjacentHTML('afterend','<link rel="preload" href="'+STYLESHEETS[t].join('" class="toggled-theme" as="style" onload="this.onload=null;this.rel=\'stylesheet\'"><link rel="preload" href="')+'" class="toggled-theme" as="style" onload="this.onload=null;this.rel=\'stylesheet\'">');delete window.t;delete window.d</script>

  {% if page.addons.styles %}{% for style in page.addons.styles %}<link rel="preload" href="{{ style }}" as="style" onload="this.onload=null;this.rel='stylesheet'">{% endfor %}{% endif %}

  <script>/**@license MIT-promiscuous-©Ruben Verborgh*/(function(n,t){function c(n,t){return(typeof t)[0]==n}function u(o,i){return i=function f(e,h,l,a,p,s){function y(n){return function(t){p&&(p=0,f(c,n,t))}}if(a=f.q,e!=c)return u(function(n,t){a.push({p:this,r:n,j:t,1:e,0:h})});if(l&&c(n,l)|c(t,l))try{p=l.then}catch(m){h=0,l=m}if(c(n,p))try{p.call(l,y(1),h=y(0))}catch(m){h(m)}else for(i=function(t,i){return c(n,t=h?t:i)?u(function(n,c){r(this,n,c,l,t)}):o},s=0;a.length>s;)p=a[s++],c(n,e=p[h])?r(p.p,p.r,p.j,l,e):(h?p.r:p.j)(l)},i.q=[],o.call(o={then:function(n,t){return i(n,t)},"catch":function(n){return i(0,n)}},function(n){i(c,1,n)},function(n){i(c,0,n)}),o}function r(u,r,o,i,f){setTimeout(function(){try{i=f(i),f=i&&c(t,i)|c(n,i)&&i.then,c(n,f)?i==u?o(TypeError()):f.call(i,r,o):r(i)}catch(e){o(e)}})}function o(n){return u(function(t){t(n)})}window.Promise=window.Promise||u,u.resolve=o,u.reject=function(n){return u(function(t,c){c(n)})},u.all=function(n){return u(function(t,c,u,r){r=[],u=n.length||t(r),n.map(function(n,i){o(n).then(function(n){r[i]=n,--u||t(r)},c)})})},u.race=function(n){return u(function(t,c){n.map(function(n){o(n).then(t,c)})})}})("f","o");/*! loadCSS rel=preload polyfill. [c]2017 Filament Group, Inc. MIT License */(function(a){"use strict";a.loadCSS||(a.loadCSS=function(){});var b=loadCSS.relpreload={};if(b.support=function(){var d;try{d=a.document.createElement("link").relList.supports("preload")}catch(f){d=!1}return function(){return d}}(),b.bindMediaToggle=function(d){function f(){d.media=g}var g=d.media||"all";d.addEventListener?d.addEventListener("load",f):d.attachEvent&&d.attachEvent("onload",f),setTimeout(function(){d.rel="stylesheet",d.media="only x"}),setTimeout(f,3e3)},b.poly=function(){if(!b.support())for(var g,d=a.document.getElementsByTagName("link"),f=0;f<d.length;f++)g=d[f],"preload"!==g.rel||"style"!==g.getAttribute("as")||g.getAttribute("data-loadcss")||(g.setAttribute("data-loadcss",!0),b.bindMediaToggle(g))},!b.support()){b.poly();var c=a.setInterval(b.poly,500);a.addEventListener?a.addEventListener("load",function(){b.poly(),a.clearInterval(c)}):a.attachEvent&&a.attachEvent("onload",function(){b.poly(),a.clearInterval(c)})}"undefined"==typeof exports?a.loadCSS=loadCSS:exports.loadCSS=loadCSS})("undefined"==typeof global?this:global);</script>

  <!-- END CSS -->

  <!-- BEGIN JS -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/cash/1.3.5/cash.min.js" integrity="sha384-lQ7xw9BfI+dxbYXadQYkYebeHeyMeYYYUrM/oD5Z0g/ediwh63F/Mf6x48hs4m3E" crossorigin="anonymous" defer></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/js-cookie/2.1.4/js.cookie.min.js" integrity="sha384-3C51VYzyLN6W+IdxzwqCdGDQUOJfaRbPH2h6z97sB+sD4nZ4FCymhVZFvHMGN2ZE" crossorigin="anonymous" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/4.0.0/anchor.min.js" integrity="sha384-vWR/JwZ17UvVCsqyfcCiaUK/5IAENMkGqXYrBRCURUFLS+aW63Zpsz5XqiDzrMQu" crossorigin="anonymous" defer></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.8.3/katex.min.js" integrity="sha384-L9gv4ooDLrYwW0QCM6zY3EKSSPrsuUncpx26+erN0pJX4wv1B1FzVW1SvpcJPx/8" crossorigin="anonymous" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.8.3/contrib/auto-render.min.js" integrity="sha384-RkgGHBDdR8eyBOoWeZ/vpGg1cOvSAJRflCUDACusAAIVwkwPrOUYykglPeqWakZu" crossorigin="anonymous" defer></script>

  <script src="{{ '/assets/js/consts.js' | relative_url }}?v={{ site.build_version }}" defer></script>

  <script src="{{ '/assets/js/utils.js' | relative_url }}?v={{ site.build_version }}" defer></script>

  <script src="{{ '/assets/js/main.js' | relative_url }}?v={{ site.build_version }}" defer></script>

  {% if layout == 'lesson' or layout == 'landing' or layout == 'post' or layout == 'resource' %}<script src="{{ '/assets/js/subclubs.js' | relative_url }}?v={{ site.build_version }}" defer></script>{% endif %}

  <script src="{{ '/assets/js/feedback.js' | relative_url }}?v={{ site.build_version }}" defer></script>

  {% if page.addons.scripts %}{% for script in page.addons.scripts %}<script src="{{ script }}" defer></script>{% endfor %}{% endif %}

  <!-- BEGIN PAGE-ADDED JS -->
  {% comment %}{% raw %} Source for below
  <script>
    window.SCRIPTS = (function (g) {
      var scripts = [];

      return {
        add: function (fn) {
          scripts.push(fn);
        },
        run: function () {
          for (var i=0;i<scripts.length;i++) {
            try { scripts[i].call(g); }
            catch (e) { console.log('Onload script error: ' + e.message); }
          }
        }
      };
    })(window);
  </script>
  {% endraw %}{% endcomment %}<script>window.SCRIPTS=(function(g){var s=[];return{add:function(f){s.push(f)},run:function(){for(var i=0;i<s.length;i+=1){try{s[i].call(g)}catch(e){console.log('Onload script error: '+e.message)}}}}})(window)</script>
  <!-- END PAGE-ADDED JS -->

  <!-- BEGIN MATHJAX -->
  {% comment %}{% raw %} Source for below
  <script type='text/x-mathjax-config'>
    MathJax.Hub.Config({
      extensions: [
        'tex2jax.js',
        'TeX/AMSmath.js',
        'TeX/AMSsymbols.js',
        'TeX/cancel.js',
        'TeX/color.js'
        {% if page.addons.mathjax.extensions %}
          {% for ext in page.addons.mathjax.extensions %}
        ,'{{ ext }}'
          {% endfor %}
        {% endif %}
      ],
      jax: [
        'input/TeX',
        'output/CommonHTML'
        {% if page.addons.mathjax.jax %}
          {% for jax in page.addons.mathjax.jax %}
        ,'{{ jax }}'
          {% endfor %}
        {% endif %}
      ],
      TeX: {
        equationNumbers: {
          autoNumber: 'AMS'
        }
      },
      tex2jax: {
        balanceBraces: false,
        processEnvironments: false,
        processRefs: false
        {% if page.addons.mathjax.tex2jax %}
          {% for tex2jax in page.addons.mathjax.tex2jax %}
        , {{ tex2jax[0] }}: {{ tex2jax[1] | jsonify }}
          {% endfor %}
        {% endif %}
      }
      {% if page.addons.mathjax.core %}
        {% for entry in page.addons.mathjax.core %}
      , {{ entry[0] }}: {{ entry[1] | jsonify }}
        {% endfor %}
      {% endif %}
    });
  </script>
  {% endraw %}{% endcomment %}<script type='text/x-mathjax-config'>MathJax.Hub.Config({extensions:['tex2jax.js','TeX/AMSmath.js','TeX/AMSsymbols.js','TeX/cancel.js','TeX/color.js'{% if page.addons.mathjax.extensions %}{% for ext in page.addons.mathjax.extensions %},'{{ ext }}'{% endfor %}{% endif %}],jax:['input/TeX','output/CommonHTML'{% if page.addons.mathjax.jax %}{% for jax in page.addons.mathjax.jax %},'{{ jax }}'{% endfor %}{% endif %}],TeX:{equationNumbers:{autoNumber:'AMS'}},tex2jax:{balanceBraces:false,processEnvironments:false,processRefs:false{% if page.addons.mathjax.tex2jax %}{% for tex2jax in page.addons.mathjax.tex2jax %},{{ tex2jax[0] }}:{{ tex2jax[1] | jsonify }}{% endfor %}{% endif %}}{% if page.addons.mathjax.core %}{% for entry in page.addons.mathjax.core %},{{ entry[0] }}:{{ entry[1] | jsonify }}{% endfor %}{% endif %}})</script>
  <!-- END MATHJAX -->
  <!-- END JS -->

  <noscript><style>
  script[type*='math/tex']{display:inline-block!important;font-family:monospace;white-space:pre;}
  script[type*='math/tex'][type*='mode=display']{display:block!important;width:100%;text-align:center;}
  </style></noscript>
</head>
