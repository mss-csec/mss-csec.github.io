{% assign stickies = site.posts | where_exp: "item", "item.tags contains 'sticky'" %}
{% for sticky in stickies limit: 1 %}
{% assign sticky_fallback_date = sticky.date | date: '%s' | plus: 604800 | date: '%F' %}
<p class="announcement-sticky" data-display-until="{{ sticky.display_until | default: sticky_fallback_date }}" data-id="{{ sticky.id }}">
  {{ sticky.summary }} <a href="{{ sticky.url }}" class="read-more">Read more &raquo;</a> <a href="#" class="close-el">&times;</a>
</p>
{% endfor %}
<header class="site-header">
  <div class="container">
    <a class="logo main-logo" aria-label="{csec}" href="{{ '/' | relative_url }}" title="Happy Holidays from CSEC!">
      <svg xmlns="http://www.w3.org/2000/svg" width="116" height="40" onerror="this.style.display='none';this.nextElementSibling.style.display='block'">
        <defs>
          <mask id="m"><path d="M12.82 36q-3.06 0-4.96-.6-1.89-.61-2.82-2.14-.89-1.52-.77-4.29l.16-4.02q0-2.54-.89-3.5-.88-1.01-2.73-1.01H0v-2.25h.77q1.9 0 2.82-1.01.93-1.04.93-3.29l-.08-2.9Q4.44 4 11.78 4h2.54v2.29h-3.3q-3.75 0-3.75 4.26l.08 2.82q0 4.42-3.51 5.95 3.43 1.13 3.43 6.23l-.12 3.38q0 2.7 1.17 3.74 1.17 1.09 3.91 1.09h2.06V36zm16.7-5.95q-2.66 0-4.76-1.25-2.1-1.25-3.3-3.42-1.17-2.21-1.17-4.94 0-2.74 1.17-4.9 1.21-2.17 3.3-3.42 2.1-1.25 4.72-1.25 2.22 0 4.03.93 1.82.89 2.94 2.5l-1.82 1.77-.28.28-.2-.2q0-.36-.16-.64-.12-.32-.61-.72-.85-.76-1.86-1.09-1.01-.36-2.38-.36-1.58 0-2.94.89-1.33.85-2.14 2.42-.81 1.57-.81 3.62t.81 3.7q.85 1.65 2.3 2.58 1.5.93 3.3.93 2.78 0 4.8-2.25l1.7 1.97q-2.7 2.9-6.66 2.9zm18.8-.04q-4.68 0-7.82-2.9l1.62-2.74.24-.36.24.16q0 .08.04.36.08.28.24.56.16.28.44.56.93.93 2.1 1.45 1.21.48 2.98.48 2.18 0 3.43-.76 1.25-.81 1.25-2.17 0-1.17-1.01-1.93t-3.63-1.61q-6.94-1.97-6.94-5.71 0-2.13 1.74-3.38 1.78-1.25 5.04-1.25 2.5 0 4.19.72 1.74.68 3.14 2.17l-1.66 2.01-.28.32-.2-.2q-.04-.44-.2-.72-.12-.28-.57-.64-.93-.72-2.1-1.09-1.13-.4-2.26-.4-1.74 0-2.86.6-1.09.6-1.09 1.69 0 1.01 1.13 1.85 1.13.85 4.07 1.69 3.47 1.05 4.88 2.29 1.46 1.21 1.46 3.18 0 2.5-1.98 4.14-1.94 1.61-5.65 1.61zm21.02 0q-4.11 0-6.58-2.5-2.42-2.5-2.42-7.03 0-3.02 1.13-5.18 1.13-2.21 3.02-3.34 1.94-1.17 4.31-1.17 3.34 0 5.41 2.21 2.1 2.21 2.1 6.51 0 .44-.08 1.33h-13.1q.16 3.38 1.9 5.1 1.74 1.73 4.4 1.73 2.9 0 4.76-2.05l1.62 1.57q-2.34 2.82-6.46 2.82zm4.03-11.42q0-2.58-1.33-4.06Q70.75 13 68.61 13q-2.02 0-3.51 1.41-1.5 1.41-1.86 4.18zm16.66 11.46q-2.66 0-4.76-1.25-2.1-1.25-3.3-3.42-1.17-2.21-1.17-4.94 0-2.74 1.17-4.9 1.21-2.17 3.3-3.42 2.1-1.25 4.72-1.25 2.22 0 4.03.93 1.82.89 2.94 2.5l-1.82 1.77-.28.28-.2-.2q0-.36-.16-.64-.12-.32-.61-.72-.85-.76-1.86-1.09-1.01-.36-2.38-.36-1.58 0-2.94.89-1.33.85-2.14 2.42-.81 1.57-.81 3.62t.81 3.7q.85 1.65 2.3 2.58 1.5.93 3.3.93 2.78 0 4.8-2.25l1.7 1.97q-2.7 2.9-6.66 2.9zM100.92 36v-2.25h2.06q2.74 0 3.91-1.09 1.17-1.05 1.17-3.74l-.12-3.38q0-5.1 3.43-6.23-3.51-1.53-3.51-5.95l.08-2.82q0-4.26-3.75-4.26h-3.31V4h2.54q7.34 0 7.34 6.99l-.08 2.9q0 2.25.93 3.3.93 1.01 2.82 1.01h.76v2.25h-.81q-1.86 0-2.74 1.01-.89.97-.89 3.5l.16 4.02q.12 2.78-.81 4.3-.89 1.53-2.78 2.13-1.9.6-4.96.6z" fill="#fff" /></mask>
        <!-- Give each of the six letters a unique colour -->
        <linearGradient id="grad" x1="0%" x2="100%" spreadMethod="repeat">
          <stop offset="0%" stop-color="#f52f2f" />
          <stop offset="17%" stop-color="#f52f2f" />
          <stop offset="17%" stop-color="#00b055" />
          <stop offset="33%" stop-color="#00b055" />
          <stop offset="33%" stop-color="#f52f2f" />
          <stop offset="50%" stop-color="#f52f2f" />
          <stop offset="50%" stop-color="#00b055" />
          <stop offset="67%" stop-color="#00b055" />
          <stop offset="67%" stop-color="#f52f2f" />
          <stop offset="84%" stop-color="#f52f2f" />
          <stop offset="84%" stop-color="#00b055" />
          <stop offset="100%" stop-color="#00b055" />
        </linearGradient>
        </defs>
        <rect class="main-logo-background" width="116" height="40" mask="url(#m)" fill="url(#grad)"></rect>
      </svg>
      <!--<img class="svg-fallback" src="{{ '/assets/images/logo.png' | relative_url }}" style="display:none">-->
    </a>
<script>// Christmas cheer!
(() => {
  var logo = document.querySelector('.main-logo'), grad = logo.querySelector('#grad');
  var animFrame = null, running = false, stop = true;

  var animate = function() {
    var x1 = parseFloat(grad.getAttribute('x1')), x2 = parseFloat(grad.getAttribute('x2'));

    x1 += .5; x2 += .5;
    x1 %= 100; x2 = (x2 % 100) + 100;

    grad.setAttribute('x1', x1 + '%');
    grad.setAttribute('x2', x2 + '%');

    if (stop && x1 == 0)
      return running = false;

    running = true;
    return animFrame = requestAnimationFrame(animate);
  };

  logo.addEventListener('mouseover', function(e) {
    stop = false;
    if (!running)
      animate();
  });

  logo.addEventListener('mouseout', function(e) {
    stop = true;
  });
})();</script>

    <input type="checkbox" class="responsive-menu-toggler" id="toggle-menu">
    <label for="toggle-menu"><a ontouchstart="">menu</a></label>
    <div class="responsive-menu-items">
      <div class="menu">
        <a class="menu-header" href="{{ '/subclubs/' | relative_url }}">Subclubs</a>

        <dl class="menu-items">
          {% assign subclubs = site.subclubs | group_by: "category" | where_exp: "item", "item.name != 'subclub-landing'" %}
          {% for subclub in site.displayed_subclubs %}
            {% assign subclub_obj = subclubs | where: "name", subclub | first %}
            {% assign subclub_index = subclub_obj.items | where: "layout", "landing" | first %}
          <dt><a href="{{ subclub_index.url | remove: '/index' | uri_escape }}/">{{ subclub_index.title | xml_escape }}</a></dt>
          {% endfor %}
          {% if subclubs.size > site.displayed_subclubs.size %}
          <dt class="menu-items-more"><a href="{{ '/subclubs/' | relative_url }}">All subclubs</a></dt>
          {% endif %}
        </dl>
      </div>

      <div class="menu">
        <a class="menu-header" href="{{ '/resources/' | relative_url }}">Resources</a>

        <dl class="menu-items">
          <dt class="menu-items-more"><a href="{{ '/resources/' | relative_url }}">All resources</a></dt>
        </dl>
      </div>

      <div class="search-box">
        <form action="/search" id="search-form" method="get">
          <input type="search" id="search" name="q" placeholder="Search...">
        </form>
      </div>

      <div class="options">
        <a class="icon" tabindex="0">
          <span class="circle"></span>
          <span class="circle"></span>
          <span class="circle"></span>
        </a>
        <div class="content">
          <label>
            <input type="checkbox" id="toggle-dark-theme">
            Dark theme
          </label>
        </div>
      </div>
    </div>
  </div>
</header>
